<template name='dashboard'>
    {{#if currentUser }}
      {{> profile}}
    {{else}}
      {{> hey}}
    {{/if}}
</template>

<template name='loading'>
  {{> spinner}}
</template> 

<template name='profile'>
  <div class='row'>
    <div class='col-md-8'>
      {{> myStats}}
      {{> analytics}}
      {{#if growth}}
        <hr>
         <div class='row'>
          {{> followerGrowth}}
          <hr>
          {{> engagementGrowth}}
         </div>  
      {{/if}}
        <hr>
      {{> gallery}}
    </div>
    <div class='col-md-4 messagePanel'>
      <button class='newBtn searchBtn'>Search</button>
      {{#if thisUser}}
      <h5 class='m-t-md'>Want to boost your Instagram account? We can help you generate a loyal and engaged audience the right way. Contact us for a free consultation.</h5>
      {{else}}
      <h5 class='m-t-md'>Would you like your account to be featured on Instagram? Let us know and we can help set that up.</h5>
      {{/if}}
      {{> contactForm}}
    </div>
  </div>
</template>
 
<template name='myStats'>
  <div class='row'>
    <div class='col-md-3'>
       <img alt="logo" height='175' width='175' class="profile-img" src="{{user.profile_picture}}">
        <p class='m-t-md'>Post Value: ${{user.data.postValue}}</p>
        <p>Followers: {{user.stats.followed_by}}</p>
        <p>Average Likes: {{user.data.avgLikes}}</p>
        <p>Average Comments: {{user.data.avgComments}}</p>
        <p>Location: {{user.other.city}}, {{user.other.country}}</p>
        <a href="/edit"><button class='newBtn'>Edit Profile</button></a>
    </div>
    <div class='col-md-9'>
      <h5 class='username'>
        @{{user.username}}
        {{#if online}}
        <div class='green'></div>
        {{else}}
        <div class='red'></div>
        {{/if}}
      </h5>
      <p>
         {{user.bio}}
      </p>
      {{#if growth}}
      <div class='m-t-md'>
        {{> valueGrowth}} 
      </div>
      {{/if}}
    </div>
  </div>          
</template> 

<template name='engagementGrowth'>
  <div class="hpanel">
    <div class="stats-title">
      <h4>Engagement</h4>
    </div>
    <br>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-gleam fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="engagement-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-gleam fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div> 
</template>

<template name='followerGrowth'> 
  <div class="hpanel">
    <div class="stats-title">
      <h4>Followers</h4>
    </div>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-look fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="follower-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-look fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div>
</template> 

<template name='valueGrowth'> 
  <div class="hpanel">
    <div class="stats-title">
      <h4>Value</h4>
    </div>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-cash fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="value-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-cash fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div>
</template>    

<template name='analytics'>
  <div class="hpanel padding-sm">
    <div class="stats-title">
      <h4>Likes and Comments</h4>
    </div>
    <div class="row">
      <div class="col-md-12">
          <div class="text-center small ">
              data taken from last 20 posts
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="flot-line-chart"></div>
          </div>
      </div>  
    </div> 
  </div>
</template>   

<template name='gallery'>
  <div class="lightBoxGallery">
    {{#each posts}}
      <div class='galleryItem'>
        <div class='gImage'>
            <a href="{{images.standard_resolution.url}}" title="{{caption.text}}" data-gallery=""><img src="{{images.thumbnail.url}}"></a>
        </div>
        <div class='gOverlay {{backColor}} '>
          <i class="fa fa-heart"></i> {{likes.count}}  &nbsp; <i class="fa fa-comment"></i>  {{comments.count}} 
        </div>
      </div> 
    {{/each}}
    <div id="blueimp-gallery" class="blueimp-gallery">
        <div class="slides"></div>
        <h3 class="title"></h3>
        <a class="prev">‹</a>
        <a class="next">›</a>
        <a class="close">×</a>
        <a class="play-pause"></a>
        <ol class="indicator"></ol>
    </div>
  </div>
</template> 