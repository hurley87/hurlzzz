<template name='dashboard'>
    {{#if currentUser }}
      {{> profile}}
    {{else}}
      {{> hey}}
    {{/if}}
</template>

<template name='loading'>
  {{> spinner}}
</template> 

<template name='profile'>
  <div class='row'>
    <div class='col-md-8'>
      {{> myStats}}
      {{> gallery}}
        <br>
        <button id='moreInfo' class='newBtn newBtn-outline'>More Info</button>
        <br>
        <div class='moreInfo'>
        {{> analytics}}
        {{#if growth}}
          <hr>
           <div class='row'>
            {{> valueGrowth}} 
            <hr>
            {{> followerGrowth}}
            <hr>
            {{> engagementGrowth}}
           </div>  
        {{/if}}
        </div>
    </div>
    <div class='col-md-4 messagePanel'>
      {{#if currentUser}}
        {{#if thisUser}}
          <h5 class='m-t-md'>Want to boost your Instagram account? We can help you with your Instagram strategy. Contact us for a free consultation.</h5>
          {{> contactForm}}
        {{else}}
          {{> proposal}}
        {{/if}}
      {{else}}
        <h5 class='m-t-md'>Would you like your account to be featured on Instagram? Let us know and we can help set that up.</h5>
        {{> contactForm}}
      {{/if}}
    </div>
  </div>
</template>

<template name='proposal'>
  <h5 class='m-t-md'>Would you like @{{thatUser.profile.username}} to feature you? </h5>
  <form id='createProposal' class="form-horizontal" role="form" method="post" action="#"  data-snap-ignore="true">
      <div class="form-group">
          <div class='col-sm-12'>
            <label for="name" class="control-label"  style=''>Introduction</label>
          </div>
          <div class="col-sm-12 m-t-xs">
              <input type="text" class="form-control" id="intro" name="name" placeholder="Say hi and a bit about your business" value="">
          </div>
      </div>
      <div class="form-group">
          <div class='col-sm-12'>
            <label for="name" class="control-label"  style=''>Game Plan</label>
          </div>
          <div class="col-sm-12 m-t-xs">
              <textarea type="text" class="form-control" id="plan" name="name" placeholder="Maybe" value="Anything special you would like @{{thatUser.profile.username}} to do?"></textarea>
          </div>
      </div>
      <div class="form-group">
          <div class='col-sm-12'>
            <label for="name" class="control-label"  style=''>Perks</label>
          </div>
          <div class="col-sm-12 m-t-xs">
              <input type="text" class="form-control" id="perks" name="name" placeholder="What's in it for @{{thatUser.profile.username}}?" value="">
          </div>
      </div>
      <div class="form-group">
          <div class='col-sm-12'>
            <label for="name" class="control-label"  style=''>Budget($)</label>
          </div>
          <div class="col-sm-12">
              <input type='number' class="form-control" id='budget' value='10' required>
          </div>
      </div>
      <div class="form-group">
          <div class="col-sm-12">
              <input id="submit" name="submit" type="submit" value="Send message" class="newBtn">
          </div>
      </div>
  </form>
</template>
 
<template name='myStats'>
  <div class='row'>
    <div class='col-md-2'>
       <img alt="logo" height='100' width='100' class="profile-img" src="{{user.profile_picture}}">
    </div>
    <div class='col-md-7'>
      <h5 class='username'>
        @{{user.username}}
        {{#if online}}
        <div class='green'></div>
        {{else}}
        <div class='red'></div>
        {{/if}}
      </h5>
      <p>joined {{joined}}</p>
      <p>
         {{user.bio}}
      </p>
    </div>
    <div class='col-md-3'><h3><span class='font-extra-bold text-success'>${{user.data.postValue}}</span><small>/per post</small></h3></div>
  </div>
    <hr>
  <div class='row'>
    <div class='col-md-6'>
      <p>Location: {{user.other.city}}</p>
      <br>
      <p>Followers: {{user.stats.followed_by}}</p>
    </div>
    <div class='col-md-6'>
      <p>Average Likes: {{user.data.avgLikes}} per post</p>
      <br>
      <p>Average Comments: {{user.data.avgComments}} per post</p>
    </div>
  </div>  
  <hr>        
</template> 

<template name='engagementGrowth'>
  <div class="hpanel">
    <div class="stats-title">
      <h4>Engagement</h4>
    </div>
    <br>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-gleam fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="engagement-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-gleam fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div> 
</template>

<template name='followerGrowth'> 
  <div class="hpanel">
    <div class="stats-title">
      <h4>Followers</h4>
    </div>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-look fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="follower-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-look fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div>
</template> 

<template name='valueGrowth'> 
  <div class="hpanel">
    <div class="stats-title">
      <h4>Value</h4>
    </div>
    <div class="row">
      <div class="col-md-2 text-center">
        <h3 class=" m-t-sm"><i class="pe-7s-cash fa-2x"></i></h3>
        <h3 class="">
            {{lastWeek}}
        </h3>
        <small><a href="/faq">current <br> <i class="fa fa-question-circle"></i></a></small>
      </div>
      <div class="col-md-8">
          <div class="text-center small ">
              {{increase}}% change week to week
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="value-chart"></div>
          </div>
      </div>  
      <div class="col-md-2 text-center">
          <div>
            <h3 class=" m-t-sm"><i class="pe-7s-cash fa-2x"></i></h3>
            <h3 class="">
                {{today}}
            </h3>
            <small><a href="/faq">last week <br><i class="fa fa-question-circle"></i></a></small>
          </div>
      </div>
    </div> 
  </div>
</template>    

<template name='analytics'>
    <div class="stats-title">
      <h4 id='likesComments'>Likes and Comments</h4>
    </div>
    <div class="row">
      <div class="col-md-12">
          <div class="text-center small ">
              data taken from last 20 posts
          </div>
          <div class="flot-chart" style="height: 160px">
              <div class="flot-chart-content" id="flot-line-chart"></div>
          </div>
      </div>  
    </div> 
</template>   

<template name='gallery'>
  <div id='recentPosts'>
  <div class="stats-title">
    <h4>Recent Posts</h4>
  </div>
  <div class="row">
    {{#each posts}}
      <div class='col-md-3'>
            <div><a href="{{images.standard_resolution.url}}" title="{{caption.text}}" data-gallery=""><img src="{{images.thumbnail.url}}"></a></div>
        <div>
          <i class="fa fa-heart"></i> {{likes.count}}  &nbsp; <i class="fa fa-comment"></i>  {{comments.count}} 
        </div>
      </div> 
    {{/each}}
  </div>
  </div>
</template> 